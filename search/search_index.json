{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome","text":"Adrian Perez Datasheet as part of  EGR 304 for  Team 206  <p>Submission: October 31, 2025 </p><p></p>","tags":["tag1","tag2"]},{"location":"#introduction","title":"Introduction","text":"<ul> <li>This datasheet is for the photoresistor subsection of the automatic curtain raiser project. The pages of this datasheet will walk through some of the design decisions, project criteria, and various project elements to simulate professional documentation.</li> </ul>","tags":["tag1","tag2"]},{"location":"#project-summary","title":"Project Summary","text":"<ul> <li>The goal of the project is to create a subsystem that interacts with other individual subsystems to provide a function that makes the user's life easier. The task Team 206 identified was the tedious task of managing curtains for a room. This was broken down into three subsystems: motion sensing, temperature sensing, and light sensing. You are currently viewing the photoresistor subsection. The other sections are available via the team report. </li> </ul>","tags":["tag1","tag2"]},{"location":"#my-contribution","title":"My Contribution","text":"<ul> <li>To review the diagram relating to the subsection, please visit the \"Block Diagram\" section of the datasheet.</li> <li>To review the details regarding the components used to construct the subsection, you can review them in the \"Component Selection\" section of the datasheet.</li> <li>To review the final selection as well as the number of parts, please visit the \"BOM\" section of the datasheet.</li> <li>To review the details regarding the schematic, please visit the \"Schematic\" section of the datasheet.</li> <li>To review the details regarding power consumption, please visit the \"Power Budget\" section of the database.</li> </ul>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/","title":"Individual Block Diagram","text":"","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#overview","title":"Overview","text":"<p>This block diagram represents Adrian\u2019s subsystem for the Automatic Curtain Controller project. The design centers on the Microchip PIC18F57Q43 Curiosity Nano, which manages sensor input, signal processing, and output control. Power is supplied by a 5V 1.5A LM7805T voltage regulator, ensuring stable operation for all components. A Photonix NSL-5162 photoresistor detects ambient light levels, and its analog output is amplified by an MCP6004-I/P operational amplifier before being read by the microcontroller\u2019s ADC input (RA0). The microcontroller processes this signal to determine the light intensity and control the system's behavior. A PWM signal from pin RC2 drives an LED indicator, while a digital input on RD1 receives input from a push button for manual control. Communication between this board and the team\u2019s other modules is handled through an 8-pin connector, where pins 1\u20134 carry digital signals and pins 5\u20138 handle analog lines. Overall, the subsystem translates light intensity into actionable control signals, maintaining consistent power and reliable communication within the team\u2019s modular design.</p>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#adrians-individual-block-diagram","title":"Adrian's Individual Block Diagram","text":"<p>This block diagram can be found as a PDF here</p>","tags":["tag1","tag2"]},{"location":"02-Component-Selection/Component-Selection/","title":"Component Selection","text":"<p>Op-amp</p> Solution Pros Cons Option 1. MCP6004-I/P$0.59/eachlink to product * Rail-to-rail I/O* 1.8\u20135.5 V supply* Low quiescent current* Good for sensors, buffers, or filters * 1 MHz GBW (not for high-speed) * Limited output drive * Option 2. * TLV9004IDR * $.69/each * Link to product * Rail-to-rail * 1.8\u20135.5 V  * Many footprints * Often SMD only * Similar 1 MHz GBW * Availability varies * Option 3. * LM324N * $.24/each * Link to product * Inexpensive * Dual In-line Package  * Present everywhere * Not rail-to-rail * Input common-mode limits can bite at 3.3 V * Vout can\u2019t hit 3.3 V rails <p>Choice: Option 1: MCP6004-I/P</p> <p>Rationale: Runs happily at 3.3 V, rail-to-rail I/O, low Iq, DIP package for quick breadboard/proto. It hits the sensor-signal conditioning needs without SMD headaches or excess cost.</p> <p>Linear Regulator</p> Solution Pros Cons Option 1. LM7805T$0.33/eachlink to product * 5 V fixed * Up to ~1 A with heatsinking* easy to design with * Big dropout (~2 V): needs \u22657 V in * Poor efficiency vs switchers* Watch thermals * Option 2. * MC7805CTG * $.52/each * Link to product * Same behavior * Widely available  * Same dropout/thermal limits * Option 3. * AMS1117-5.0 * $.12/each * Link to product * Compact * Inexpensive * High dropout (~1.1\u20131.3 V * Only ~800 mA * Thermal headroom limited <p>Choice: Option 1: LM7805T</p> <p>Rationale: 5 V rail for lab bricks \u22657\u20139 V input. The design time is near zero, and sourcing is painless. If the input headroom is tight, it can be replaced with an LM2940-5.0.</p> <p>Photoresistor</p> Solution Pros Cons Option 1.Adafruit Photo Cell$0.95/eachlink to product * Well-documented * Simple to integrate in a 3.3 V divider* Small and inexpensive * Not super high precision*Typical resistance ranges* May need calibration * Option 2. *Photonix\u202fNSL\u20115162 CDS Photoresistor* $1.06/each * Link to product *Good industrial pedigree*Known performance specs *Radial through-hole *Slightly higher cost*More specs than needed*Adjustment to the ambient light threshold more than originally intended * Option 3. * Photonix\u202fPDV\u2011P5001 CDS Photoresistor* $1.54/each * Link to product * Larger sensor area (11 mm)*Could give stronger signal for low-light situations * Bigger package* Might require different mounting / sensor housing <p>Choice: Option 2: Photonix\u202fNSL\u20115162 CDS Photoresistor</p> <p>Rationale: The NSL-5162 CdS photoresistor was chosen because it offers precise, repeatable light-to-resistance characteristics backed by a detailed datasheet and stable manufacturing. Its wide dynamic range and reliable performance at 3.3 V make it a better long-term, spec-driven choice for consistent ambient-light sensing than hobby-grade LDRs.</p>"},{"location":"03-BOM/BOM/","title":"Bill of Materials","text":"","tags":["tag1","tag2"]},{"location":"03-BOM/BOM/#overview","title":"Overview","text":"<p>The Bill of Materials lists all electrical and mechanical components required for the automatic curtain controller, including the power input, voltage regulation, sensors, op-amp circuitry, and interconnect hardware.</p>","tags":["tag1","tag2"]},{"location":"03-BOM/BOM/#bill-of-materials","title":"Bill of Materials","text":"<p> Figure 1: Bill of Materials as a screenshot.</p>","tags":["tag1","tag2"]},{"location":"04-Schematic/schematic/","title":"Schematic","text":""},{"location":"04-Schematic/schematic/#overview","title":"Overview","text":"<p>This schematic is designed to support a photoresistor amplifier and a PIC Nano microcontroller.</p> <p> Figure #1: Showing current schematic.</p>"},{"location":"04-Schematic/schematic/#resouces","title":"Resouces","text":"<p>The schematic as a PDF download is available here, and the Zip folder of the project here.</p>"},{"location":"05-Power-Budget/Power-Budget/","title":"Power Budget","text":""},{"location":"05-Power-Budget/Power-Budget/#overview","title":"Overview","text":"<p>After selecting components in the Component Selection phase, we needed to ensure that the subsection would have sufficient power, including an additional safety margin. To achieve this, we focused on the active components, excluding switches and passive components, and confirmed that our power supply and regulators could provide the required power.</p> <p></p>"},{"location":"05-Power-Budget/Power-Budget/#conclusions","title":"Conclusions","text":"<p>From the prepare Power Budget, .....</p>"},{"location":"05-Power-Budget/Power-Budget/#resouces","title":"Resouces","text":"<p>The power budget as a PDF download is available here, and a Microsoft Excel Sheet here.</p>"},{"location":"06-PCB-Design/PCB-Design/","title":"PCB Design","text":""},{"location":"07-Microcontroller-Code/Microcontroller-Code/","title":"Microcontroller Code","text":""},{"location":"07-Microcontroller-Code/Microcontroller-Code/#overview","title":"Overview","text":"<p>After designing the schematic and manufacturing the PCB, we can now proceed to coding. For this, we will use MPLAB X version 5.45. It can be found as a ZIP file here</p>"},{"location":"08-Reflectiom/reflection/","title":"Reflection","text":""},{"location":"08-Reflectiom/reflection/#lessons-learned","title":"Lessons Learned","text":"<p>The following are 10 key takeaways our team learned from working on this project.</p> <ul> <li>Working with real hardware showed how even small wiring mistakes, like a loose ground connection or crossed signal wires, can cause big problems like erratic sensor readings or motor stalls, so careful hardware checks, multimeter verification, and clear labeling of every wire became essential for reliable testing and debugging.</li> <li>Planning software with diagrams and states before writing code made it much easier to organize features like automatic curtain control and avoid \"spaghetti code\" as the project grew more complex with multiple sensors and inter-board communication.</li> <li>Version control with Git and frequent commits helped the team track every change, easily roll back mistakes during integration, and understand exactly who changed what when reviewing code history or troubleshooting bugs.</li> <li>Clear communication inside the team, especially about pin assignments, ADC scaling, and connector interfaces, prevented many frustrating integration bugs between Mihir's hub board and the sensor boards from Zane and Adrian.</li> <li>Testing early and often, starting with individual sensors, then connectors, then full system demos exposed issues with thresholds, motor timing, and signal noise well before the final deadline, reducing last-minute stress and rework.</li> <li>Writing simple, focused functions (like separate ones for ADC reading, motor control, and state transitions) instead of cramming everything into long main loops made debugging, testing individual pieces, and reusing code much easier throughout development.</li> <li>Data sheets and reference manuals for the PIC18F57Q43, sensors, and motor driver were critical resources, taking time to read them upfront about ADC configuration, PWM settings, and pin functions saved hours of trial-and-error experimentation later.</li> <li>Building in basic error handling and fallback modes, like ignoring bad sensor readings or switching to manual button control when a subsystem fails, improved the system's robustness and made live demos much smoother, even when hardware acted up unexpectedly.</li> <li>Using a consistent naming scheme for signals (like\u00a0temp_adc_raw,\u00a0light_threshold), files (mihir_main.c,\u00a0sensor_read.c), and functions (read_temperature(),\u00a0drive_motor_ccw()) helped keep the whole project understandable for all team members, even when reviewing each other's code.</li> <li>Time management and breaking the work into small milestones like \"connector design complete by week 4,\" \"basic motor control by week 6\", made it easier to balance hardware prototyping, coding, integration testing, and documentation throughout the busy semester.</li> </ul>"},{"location":"08-Reflectiom/reflection/#recommendation-for-future-students","title":"Recommendation for Future Students","text":"<ul> <li>Start learning the PIC microcontroller toolchain early: Get MPLAB X IDE, MCC code generator, and the PIC18F57Q43 Curiosity Nano board set up during the first week, and practice basic blink/ADC examples so you're not fighting installation and debugger issues when real project deadlines hit.</li> <li>Practice embedded C programming basics before class: Get comfortable with pointers for ADC buffers, structs for sensor data, interrupt handlers, and bit manipulation for pin control. These concepts are everywhere in microcontroller code and much harder to learn under project pressure.</li> <li>Use Git version control from day one: Commit frequently with clear messages like \"Added temperature ADC scaling\" and use branches for new features so you can safely experiment with motor timing or sensor thresholds without breaking the main working code.</li> <li>Read data sheets carefully and build test circuits early: Study the PIC datasheet for your pin functions and peripherals, then prototype each sensor (temperature, photoresistor, motion) on a breadboard with simple test code before committing to final PCBs, waiting until integration week leads to cascading hardware fixes.</li> <li>Communicate constantly with teammates about interfaces: Agree early and document pinouts, expected ADC voltage ranges (0-5V), signal meanings, and timing expectations in a shared spec sheet or README, then test inter-board connections weekly. Vague assumptions about \"that digital pin\" cause weeks of debugging pain.</li> </ul>"},{"location":"Appendix/","title":"Appendix - Main Page","text":"<p>The Appendix is where supporting information goes that is not in the main body.</p>"},{"location":"Appendix/another-subfile/","title":"Appendix - Another Subfile","text":"<p>Things to discuss</p>"},{"location":"Appendix/basic-markdown-examples/","title":"Appendix - Basic Markdown Examples","text":""},{"location":"Appendix/basic-markdown-examples/#introduction","title":"Introduction","text":"<p>Bold Text Italic Text Bold and Italic Text</p>"},{"location":"Appendix/basic-markdown-examples/#research-question","title":"Research Question","text":"<ul> <li>Bullet Point 1</li> <li>Bullet Point 2</li> <li>Bullet Point 3</li> </ul>"},{"location":"Appendix/basic-markdown-examples/#images","title":"Images","text":"<p> Figure 2: Early PCB working design</p> <p> Figure 3: Innovation Showcase Spring '25, where the products were a STEM-themed display that demonstrates a single scientific/engineering concept with the intended user of K-12 students interested in learning about science, technology, engineering, or math.</p>"},{"location":"Appendix/basic-markdown-examples/#results","title":"Results","text":"<ol> <li>Numbered Point 1</li> <li>Numbered Point 2</li> <li>Numbered Point 3</li> </ol>"},{"location":"Appendix/basic-markdown-examples/#conclusions-and-future-work","title":"Conclusions and Future Work","text":""},{"location":"Appendix/basic-markdown-examples/#external-links","title":"External Links","text":"<p>example link to idealab</p>"},{"location":"Appendix/basic-markdown-examples/#results_1","title":"Results","text":"<ol> <li>Numbered Point 1</li> <li>Numbered Point 2</li> <li>Numbered Point 3</li> </ol>"},{"location":"Appendix/basic-markdown-examples/#conclusions-and-future-work_1","title":"Conclusions and Future Work","text":""},{"location":"Appendix/basic-markdown-examples/#external-links_1","title":"External Links","text":"<p>example link to idealab</p>"},{"location":"Appendix/basic-markdown-examples/#references","title":"References","text":""},{"location":"Appendix/charts/","title":"Appendix - Charts Example","text":"<pre><code>graph LR\n  A[Start] --&gt; B{Error?};\n  B --&gt;|Yes| C[Hmm...];\n  C --&gt; D[Debug];\n  D --&gt; B;\n  B ----&gt;|No| E[Yay!];</code></pre> <pre><code>sequenceDiagram\n  autonumber\n  Alice-&gt;&gt;John: Hello John, how are you?\n  loop Healthcheck\n      John-&gt;&gt;John: Fight against hypochondria\n  end\n  Note right of John: Rational thoughts!\n  John--&gt;&gt;Alice: Great!\n  John-&gt;&gt;Bob: How about you?\n  Bob--&gt;&gt;John: Jolly good!</code></pre> <pre><code>stateDiagram-v2\n  state fork_state &lt;&lt;fork&gt;&gt;\n    [*] --&gt; fork_state\n    fork_state --&gt; State2\n    fork_state --&gt; State3\n\n    state join_state &lt;&lt;join&gt;&gt;\n    State2 --&gt; join_state\n    State3 --&gt; join_state\n    join_state --&gt; State4\n    State4 --&gt; [*]</code></pre>"},{"location":"Appendix/esp-32-table/","title":"Appendix - Example Controller Table for the ESP32","text":"ESP Info Answer Help Model ? Include the entire part number (leave off any letters at the end that specify the package type) Product Page URL ? Found on Espressif.com ESP32-S3-WROOM-1-N4 Datasheet URL ? Do not paste links directly into the table.  Use a link ESP32 S3 Datasheet URL ? Has more detail on functions ESP32 S3 Technical Reference Manual URL ? Has details on I/O multiplexing, USB, and others Vendor link ? Digikey, Jameco, etc.  Do not paste links directly into the table.  Use a link Code Examples ? url(s) for libraries on github or other sites related to the microcontroller and your planned peripherals External Resources URL(s) ? Search on Google and YouTube for other resources for each specific microcontroller. Unit cost ? Find on Digikey, Jameco, MPJA, or octopart Absolute Maximum Current for entire IC ? Find in the microcontroller datasheet Supply Voltage Range ? Min / Nominal / Max / Absolute Max, as found in datasheet Absolute Maximum current  (for entire IC) ? as found in datasheet Maximum GPIO current  (per pin) ? as found in datasheet Supports External Interrupts? ? as found in datasheet Required Programming Hardware, Cost, URL ? as found in datasheet Module # Available Needed Associated Pins (or * for any) UART ? ? ? external SPI* ? ? ? I2C ? ? ? GPIO ? ? ? ADC ? ? ? LED PWM ? ? ? Motor PWM ? ? ? USB Programmer ? 1 ? ... <p>* The ESP32-S2 has multiple SPI interfaces, but some are for internal use</p>"}]}